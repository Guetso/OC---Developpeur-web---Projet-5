/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/panier.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/anim.js":
/*!*********************!*\
  !*** ./src/anim.js ***!
  \*********************/
/*! exports provided: btnMenuOpen */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"btnMenuOpen\", function() { return btnMenuOpen; });\n// Animation de l'ouverture du menu\nvar btnMenuOpen = document.querySelector(\".menu__btn\");\nvar btnMenuClose = document.querySelector(\".close\");\nvar toggleMenu = document.getElementById(\"navpanel\");\nbtnMenuOpen.addEventListener(\"click\", function () {\n  toggleMenu.classList.add(\"menu--active\");\n});\nbtnMenuClose.addEventListener(\"click\", function () {\n  toggleMenu.classList.remove(\"menu--active\");\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYW5pbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hbmltLmpzP2M5MzIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQW5pbWF0aW9uIGRlIGwnb3V2ZXJ0dXJlIGR1IG1lbnVcclxuXHJcbmNvbnN0IGJ0bk1lbnVPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51X19idG5cIilcclxuY29uc3QgYnRuTWVudUNsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZVwiKVxyXG5jb25zdCB0b2dnbGVNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXZwYW5lbFwiKVxyXG5cclxuYnRuTWVudU9wZW4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIHRvZ2dsZU1lbnUuY2xhc3NMaXN0LmFkZChcIm1lbnUtLWFjdGl2ZVwiKVxyXG59KVxyXG5cclxuYnRuTWVudUNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICB0b2dnbGVNZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJtZW51LS1hY3RpdmVcIilcclxufSlcclxuXHJcbmV4cG9ydCB7YnRuTWVudU9wZW59XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/anim.js\n");

/***/ }),

/***/ "./src/config.js":
/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/
/*! exports provided: environment, get */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"environment\", function() { return environment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get\", function() { return get; });\nvar environment = \"http://localhost:3000\";\n\nvar get = function get(url) {\n  // On créé une fonction qui permet d'utiliser la méthode GET sur une URL donnée\n  return new Promise(function (resolve, reject) {\n    // Cette fonction retournera une promesse qui fera :\n    var httpRequest = new XMLHttpRequest(); // La fonction va créer une requête Http\n\n    httpRequest.onreadystatechange = function () {\n      // On va suivre l'évolution de la requête\n      if (httpRequest.readyState === 4) {\n        if (httpRequest.status === 200) {\n          //  Si la requête s'est correctement déroulée (elle a aboutit + renvoie un code 200)\n          resolve(JSON.parse(httpRequest.responseText)); // La promesse est résolue quand la requête a su nous renvoyer le responseText\n        } else {\n          reject(httpRequest); // Si une erreur lors de l'accès à l'API a eu lieu, il faut traiter l'erreur\n        }\n      }\n    };\n\n    httpRequest.open(\"GET\", url, true); // Cette requête va utiliser la méthode GET sur l'URL en paramètre, de manière asynchrone\n\n    httpRequest.send(); // La fonction envoie la requête au serveur\n  });\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uZmlnLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy5qcz9kYjQ5Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGVudmlyb25tZW50ID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIlxyXG5cclxuY29uc3QgZ2V0ID0gZnVuY3Rpb24gKHVybCkgeyAvLyBPbiBjcsOpw6kgdW5lIGZvbmN0aW9uIHF1aSBwZXJtZXQgZCd1dGlsaXNlciBsYSBtw6l0aG9kZSBHRVQgc3VyIHVuZSBVUkwgZG9ubsOpZVxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgLy8gQ2V0dGUgZm9uY3Rpb24gcmV0b3VybmVyYSB1bmUgcHJvbWVzc2UgcXVpIGZlcmEgOlxyXG4gICAgICAgIGNvbnN0IGh0dHBSZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCkgLy8gTGEgZm9uY3Rpb24gdmEgY3LDqWVyIHVuZSByZXF1w6p0ZSBIdHRwXHJcbiAgICAgICAgaHR0cFJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgeyAvLyBPbiB2YSBzdWl2cmUgbCfDqXZvbHV0aW9uIGRlIGxhIHJlcXXDqnRlXHJcbiAgICAgICAgICAgIGlmIChodHRwUmVxdWVzdC5yZWFkeVN0YXRlID09PSA0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaHR0cFJlcXVlc3Quc3RhdHVzID09PSAyMDApIHsgLy8gIFNpIGxhIHJlcXXDqnRlIHMnZXN0IGNvcnJlY3RlbWVudCBkw6lyb3Vsw6llIChlbGxlIGEgYWJvdXRpdCArIHJlbnZvaWUgdW4gY29kZSAyMDApXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShKU09OLnBhcnNlKGh0dHBSZXF1ZXN0LnJlc3BvbnNlVGV4dCkpIC8vIExhIHByb21lc3NlIGVzdCByw6lzb2x1ZSBxdWFuZCBsYSByZXF1w6p0ZSBhIHN1IG5vdXMgcmVudm95ZXIgbGUgcmVzcG9uc2VUZXh0XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChodHRwUmVxdWVzdCkgLy8gU2kgdW5lIGVycmV1ciBsb3JzIGRlIGwnYWNjw6hzIMOgIGwnQVBJIGEgZXUgbGlldSwgaWwgZmF1dCB0cmFpdGVyIGwnZXJyZXVyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaHR0cFJlcXVlc3Qub3BlbihcIkdFVFwiLCB1cmwsIHRydWUpIC8vIENldHRlIHJlcXXDqnRlIHZhIHV0aWxpc2VyIGxhIG3DqXRob2RlIEdFVCBzdXIgbCdVUkwgZW4gcGFyYW3DqHRyZSwgZGUgbWFuacOocmUgYXN5bmNocm9uZVxyXG4gICAgICAgIGh0dHBSZXF1ZXN0LnNlbmQoKSAvLyBMYSBmb25jdGlvbiBlbnZvaWUgbGEgcmVxdcOqdGUgYXUgc2VydmV1clxyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0IHsgZW52aXJvbm1lbnQgfVxyXG5leHBvcnQgeyBnZXQgfSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config.js\n");

/***/ }),

/***/ "./src/onScroll.js":
/*!*************************!*\
  !*** ./src/onScroll.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _anim_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./anim.js */ \"./src/anim.js\");\n// Menu qui change d'apparence onScroll\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ((function () {\n  var scrollY = function scrollY() {\n    var supportPageOffset = window.pageXOffset !== undefined;\n    var isCSS1Compat = (document.compatMode || \"\") === \"CSS1Compat\";\n    return supportPageOffset ? window.pageYOffset : isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop;\n  };\n\n  var rect = _anim_js__WEBPACK_IMPORTED_MODULE_0__[\"btnMenuOpen\"].getBoundingClientRect();\n  var constraint = document.querySelector(_anim_js__WEBPACK_IMPORTED_MODULE_0__[\"btnMenuOpen\"].getAttribute(\"data-constraint\"));\n  var constraintRect = constraint.getBoundingClientRect();\n  var constraintBottom = constraintRect.top + scrollY() + constraintRect.height - rect.height;\n\n  var onScroll = function onScroll() {\n    if (scrollY() > constraintBottom) {\n      _anim_js__WEBPACK_IMPORTED_MODULE_0__[\"btnMenuOpen\"].classList.add(\"menu__btn--solid\");\n    } else if (_anim_js__WEBPACK_IMPORTED_MODULE_0__[\"btnMenuOpen\"].classList.contains(\"menu__btn--solid\")) {\n      _anim_js__WEBPACK_IMPORTED_MODULE_0__[\"btnMenuOpen\"].classList.remove(\"menu__btn--solid\");\n    }\n  };\n\n  window.addEventListener(\"scroll\", onScroll);\n})());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvb25TY3JvbGwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvb25TY3JvbGwuanM/NTBkYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBNZW51IHF1aSBjaGFuZ2UgZCdhcHBhcmVuY2Ugb25TY3JvbGxcclxuXHJcbmltcG9ydCB7IGJ0bk1lbnVPcGVuIH0gZnJvbSBcIi4vYW5pbS5qc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdChmdW5jdGlvbigpe1xyXG5cclxuY29uc3Qgc2Nyb2xsWSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzdXBwb3J0UGFnZU9mZnNldCA9IHdpbmRvdy5wYWdlWE9mZnNldCAhPT0gdW5kZWZpbmVkO1xyXG4gICAgdmFyIGlzQ1NTMUNvbXBhdCA9ICgoZG9jdW1lbnQuY29tcGF0TW9kZSB8fCBcIlwiKSA9PT0gXCJDU1MxQ29tcGF0XCIpO1xyXG4gICAgcmV0dXJuIHN1cHBvcnRQYWdlT2Zmc2V0ID8gd2luZG93LnBhZ2VZT2Zmc2V0IDogaXNDU1MxQ29tcGF0ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA6IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xyXG59XHJcblxyXG5jb25zdCByZWN0ID0gYnRuTWVudU9wZW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuY29uc3QgY29uc3RyYWludCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYnRuTWVudU9wZW4uZ2V0QXR0cmlidXRlKFwiZGF0YS1jb25zdHJhaW50XCIpKVxyXG5jb25zdCBjb25zdHJhaW50UmVjdCA9IGNvbnN0cmFpbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuY29uc3QgY29uc3RyYWludEJvdHRvbSA9IGNvbnN0cmFpbnRSZWN0LnRvcCArIHNjcm9sbFkoKSArIGNvbnN0cmFpbnRSZWN0LmhlaWdodCAtIHJlY3QuaGVpZ2h0XHJcblxyXG5jb25zdCBvblNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChzY3JvbGxZKCkgPiBjb25zdHJhaW50Qm90dG9tKSB7XHJcbiAgICAgICAgYnRuTWVudU9wZW4uY2xhc3NMaXN0LmFkZChcIm1lbnVfX2J0bi0tc29saWRcIilcclxuICAgIH0gZWxzZSBpZiAoYnRuTWVudU9wZW4uY2xhc3NMaXN0LmNvbnRhaW5zKFwibWVudV9fYnRuLS1zb2xpZFwiKSl7XHJcbiAgICAgICAgYnRuTWVudU9wZW4uY2xhc3NMaXN0LnJlbW92ZShcIm1lbnVfX2J0bi0tc29saWRcIilcclxuICAgIH1cclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgb25TY3JvbGwpXHJcbn0pKCkiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/onScroll.js\n");

/***/ }),

/***/ "./src/panier.js":
/*!***********************!*\
  !*** ./src/panier.js ***!
  \***********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.js */ \"./src/config.js\");\n/* harmony import */ var _onScroll_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./onScroll.js */ \"./src/onScroll.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n // Importation de la requête AJAX\n\n /////////////////////\n// On met en place une fonction qui s'auto exécute et qui vérifie si le session storage contient un objet \"newOrder\"\n\n(function () {\n  // La fonction s'exécute dès le chargement de la page\n  if (sessionStorage.getItem(\"newOrder\") === null) {\n    // Elle vérifie qu'il existe bien une nouvelle commande stocké dans le sessionStorage\n    console.log(\"Pas de nouvelle commande à ajouter\"); // Si ce n'est pas le  cas, il ne se passe rien, affichage d'un commentaire dans la console\n  } else {\n    // Si elle trouve un objet \"newOrder\" dans le sessionStorage\n    var newNb = localStorage.length; // Elle créer une clé de valeur = à la taille du localStorage\n\n    var addToCart = sessionStorage.getItem(\"newOrder\"); // Elle créer une constante addToCart, qui est = à la valeur de \"neworder\"\n\n    localStorage.setItem(newNb, addToCart); // Elle attribue un nouvel objet dans le localStorage\n\n    sessionStorage.removeItem(\"newOrder\"); // Elle supprime le \"newOrder du sessionStorage\" ainsi il ne peut y avoir qu'un seul \"newOrder\" dans le sessionStorage\n  }\n})(); //////// CREATION DU PANIER \n//Initialisation des classes nécessaires à la création du panier :\n\n\nvar Camera = // Correspond à un modèle de caméra présent dans le catalogue du site\nfunction Camera(Id, Name, Price, Lenses) {\n  _classCallCheck(this, Camera);\n\n  this.id = Id;\n  this.name = Name;\n  this.price = Price;\n  this.lenses = Lenses;\n};\n\nvar Cartline = // Correspond à une ligne du panier\nfunction Cartline(Id, Name, Lense, Qte, Price) {\n  _classCallCheck(this, Cartline);\n\n  this.id = Id;\n  this.name = Name;\n  this.lense = Lense;\n  this.qte = Qte;\n  this.price = Price;\n  this.subtotal = parseInt(this.qte) * parseInt(this.price);\n}; ///////// Initialisation des variables nécessaires  à la création du panier :\n\n\nvar store = []; // Correspond au catalogue du magasin\n\nvar cart = []; // Correspond au panier \n///////// Initialisation des fonctions nécessaires à la  création du panier : \n\nfunction cleanArray(array) {\n  // Cette fonction prend en paramètre un tableau. Elle permet de créer un tableau qui ne contient que les valeurs uniques de la clé \"_id\"\n  var i = array.length;\n  var j = array.length;\n  var len = array.length;\n  var out = [];\n  var obj = {};\n\n  for (i = 0; i < len; i++) {\n    obj[array[i]._id + \"_\" + array[i].lense] = 0;\n  }\n\n  for (j in obj) {\n    out.push(j);\n  }\n\n  return out;\n}\n\nfunction countQte(arr, list) {\n  //Cette fonction prend en paramètre un tableau et une liste qu'on va comparer pour determiner la quantité total d'un article précis dans le tableau et nous retourne cette quantité\n  var counter = 0;\n\n  for (var i = 0; i < arr.length; i++) {\n    // Pour chaque élément du tableau\n    if (arr[i]._id === list.split(\"_\")[0] && arr[i].lense === list.split(\"_\")[1]) {\n      // On cherche une correspondance de l'id et de la lentille avec la liste \n      counter = counter + parseInt(arr[i].qte); // A chaque correspondance trouvée, on ajout au compteur la quantitée trouvée\n    }\n  }\n\n  return counter; // Cela nous retourne la quantité total d'un article dans le tableau\n}\n\nfunction post(toSend) {\n  return new Promise(function (resolve, reject) {\n    var httpRequest = new XMLHttpRequest();\n    httpRequest.open(\"POST\", _config_js__WEBPACK_IMPORTED_MODULE_0__[\"environment\"] + \"/api/cameras/order\");\n    httpRequest.setRequestHeader(\"Content-Type\", \"application/json\");\n    httpRequest.send(JSON.stringify(toSend));\n\n    httpRequest.onreadystatechange = function () {\n      if (httpRequest.readyState === 4) {\n        if (httpRequest.status === 201) {\n          var response = JSON.parse(this.responseText);\n          console.log(response);\n          resolve(response);\n        } else {\n          reject(httpRequest);\n        }\n      }\n    };\n  });\n} ///// CREATION DU PANIER\n\n\nObject(_config_js__WEBPACK_IMPORTED_MODULE_0__[\"get\"])(\"http://localhost:3000/api/cameras/\").then(function (response) {\n  // Avec la requête AJAX on récupère la liste des articles sur le serveur (response).\n  return new Promise(function (resolve, reject) {\n    // Si la requête aboutie : On créé une fonction qui prend en paramètre la liste des caméras que le serveur nous retourne. Cette fonction contient également une promesse.\n    // 1ère étape : Création du magasin (store) un tableau qui contient la liste des caméras en stock\n    for (var i = 0; i < response.length; i++) {\n      // Pour chaque caméras présentes dans la réponse du serveur (5 caméras)\n      for (var y = 0; y < response[i].lenses.length; y++) {\n        // ET pour chaques lentilles possibles à chaque caméra\n        var newCamera = new Camera( // On créé une instance de la classe Camera qui aura les caractéristiques suivantes :\n        response[i]._id + \"_\" + response[i].lenses[y], // Un Id qui est = à l'id du modèle concaténé avec le nom de chaque lentille \n        response[i].name, // Un nom inchangé par rapport à la réponse du serveur\n        response[i].price, // Un prix inchangé par rapport à la réponse du serveur\n        response[i].lenses // La lentille de ce modèle\n        );\n        store.push(newCamera); // L'instance ainsi créée est mis dans le tableau \"store\"\n      }\n    }\n\n    resolve(store); //Si la fonction se déroule sans problème, la promesse nous renvoi le tableau \"store\" qui contient ainsi 11 produits différents (5 caméras avec chaque option de lentille possible)\n    // 2ème étape : Ajout d'une ligne de panier pour chaque objet présent dans le localStorage \n  }).then(function addCartLine() {\n    // Suite à la résolution de la promesse consistant à créer un magasin\n    var rawOrder = []; // On créé une variable rawOrder, qui contient tous les objet du local storage\n\n    for (var i = 0; i < localStorage.length; i++) {\n      var storageItem = JSON.parse(localStorage.getItem(i));\n      rawOrder.push(storageItem); // Le rawOrder pouvant contenir des lignes de commande contenant le même article (même caméra + même lentille) il va falloir le nettoyer pour additionner les lignes similaires.\n    }\n\n    var cleanOrder = cleanArray(rawOrder); // On fait appel à la fonction \"CleanArray\" qui va créer une liste des identifiants uniques de rawOrder\n\n    cleanOrder.forEach(function (line) {\n      // Pour chacun de ces identifiants uniques : on va le comparer avec notre magasin\n      for (var _i = 0; _i < store.length; _i++) {\n        // On demande pour chaque article présent dans la magasin\n        if (store[_i].id === line) {\n          // Si on trouve une correspondance entre l'id d'un article du magasin et l'id de notre liste de commande\n          var newCartline = new Cartline( // Alors on créer une ligne de panier (instance de la classe CartLine)\n          store[_i].id.split(\"_\")[0], // Avec un l'id correspondant = On divise l'Id et on ne garde que la 1ère partie avant le \"_\" on a donc retrouvé l'id original, lisible par le serveur\n          store[_i].name, // Le nom du produit en question\n          store[_i].id.split(\"_\")[1], // Le choix de la lentille = On divise l'Id et on ne garde que la 2nd partie après le \"_\" on a donc le nom de la lentille choisie \n          countQte(rawOrder, line), // Pour la quantité on fait appel à la fonction countQte qui prend en paramètre la liste de commande brut (= localStorage) et la liste des \"ids\" commandées elle va additionner toutes les quantités correspondantes à l'id\n          store[_i].price);\n          cart.push(newCartline); // On peut alors mettre cette ligne de panier dans le panier\n        }\n      }\n    }); // 2ème étape : Ajout d'une ligne de panier pour chaque objet présent dans le localStorage\n  }).then(function () {\n    // On peut maintenant lancer la mise en forme du panier\n    var subCounter = 0;\n\n    for (var i = 0; i < cart.length; i++) {\n      // Pour chaque élément du panier une ligne html doit être mise en forme\n      var tbody = document.getElementById(\"cart-tablebody\");\n      var tr = document.createElement(\"tr\");\n      tbody.appendChild(tr);\n      var td1 = document.createElement(\"td\");\n      var td2 = document.createElement(\"td\");\n      var td3 = document.createElement(\"td\");\n      var td4 = document.createElement(\"td\");\n      var td5 = document.createElement(\"td\");\n      tr.appendChild(td1);\n      tr.appendChild(td2);\n      tr.appendChild(td3);\n      tr.appendChild(td4);\n      tr.appendChild(td5);\n      var cartLine = cart[i];\n      td1.innerText = cartLine.name;\n      td2.innerText = cartLine.lense;\n      td3.innerText = cartLine.price / 100 + \" €\";\n      td4.innerText = cartLine.qte;\n      td5.innerText = cartLine.subtotal / 100 + \" €\"; //// Fonction de calcul du total du panier\n\n      subCounter = subCounter + parseInt(cartLine.subtotal / 100);\n      var subtt = document.getElementById(\"subtt\");\n      subtt.innerText = subCounter + \" €\";\n      sessionStorage.setItem(\"total\", subCounter);\n    }\n  });\n})[\"catch\"](function (error) {\n  console.error(\"erreur lors du chargement du panier.\", error);\n}); ////// Fonction de RAZ du panier\n\nvar emptyCart = function emptyCart() {\n  var emptyBtn = document.getElementById(\"empty\");\n  emptyBtn.addEventListener(\"click\", function () {\n    // Quand on clique sur le bouton \"vider le panier\"\n    localStorage.clear(); // Efface le locale storage\n\n    location.reload(); // Recharge la page\n  });\n};\n\nemptyCart(); /////////\n// Récupération des informations du formulaire pour requête POST au serveur\n\nvar main = document.getElementById(\"main\");\nvar form = document.getElementById(\"form\");\nvar firstName = document.getElementById(\"firstname\");\nvar lastName = document.getElementById(\"lastname\");\nvar address = document.getElementById(\"address\");\nvar city = document.getElementById(\"city\");\nvar email = document.getElementById(\"email\");\nvar submit = document.getElementById(\"submit\");\nsubmit.addEventListener(\"click\", function (event) {\n  // Au moment du la soumission du formulaire :\n  event.preventDefault();\n  console.log(form.checkValidity());\n\n  if (cart.length < 1) {\n    //Apparition d'un message d'information indiquant que le panier est vide\n    if (document.querySelector(\"aside\") === null) {\n      var aside = main.appendChild(document.createElement(\"aside\"));\n      aside.classList.add(\"error\", \"error__panier\", \"error__panier--anim\"); // On ajoute la classe \"error\" à la div pour traitement CSS\n\n      aside.innerText = \"Votre panier est vide\"; // On y affiche le message d'erreur\n    } else {\n      // Pour rejouer l'animation en cas de multi-clique sur le bouton \"envoyer\"\n      var _aside = document.querySelector(\"aside\");\n\n      main.removeChild(_aside);\n      main.appendChild(_aside);\n    }\n  } else if (form.checkValidity() === true) {\n    ///Creation d'une variable contact contenant les informations de contact saisie par l'utilisateur\n    var contact = {\n      firstName: firstName.value,\n      lastName: lastName.value,\n      address: address.value,\n      city: city.value,\n      email: email.value\n    };\n    var products = []; // Création d'une variables \"products\" qui contient les informations du panier\n\n    for (var i = 0; i < cart.length; i++) {\n      products.push(cart[i].id);\n    }\n\n    var data = {\n      contact: contact,\n      products: products\n    }; // Création d'une variable \"data\" qui contient les 2 éléments à transmettre au serveur\n    /// Envoie de la requête\n\n    post(data).then(function (response) {\n      window.location.href = \"confirm.html\";\n      var myOrder = JSON.stringify(response); // On transforme cet objet en chaine de caractère\n\n      sessionStorage.setItem(\"myOrder\", myOrder);\n      localStorage.clear();\n    })[\"catch\"](function (error) {\n      console.error(\"Erreur lors de l'envoi des données: \" + error);\n    });\n  } else if (document.querySelector(\"aside\") === null) {\n    var _aside2 = main.appendChild(document.createElement(\"aside\"));\n\n    _aside2.classList.add(\"error\", \"error__panier\", \"error__panier--anim\"); // On ajoute la classe \"error\" à la div pour traitement CSS\n\n\n    _aside2.innerText = \"Veuillez vérifier votre saisie\";\n  } else {\n    // Pour rejouer l'animation en cas de multi-clique sur le bouton \"envoyer\"\n    var _aside3 = document.querySelector(\"aside\");\n\n    main.removeChild(_aside3);\n    main.appendChild(_aside3);\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuaWVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3Bhbmllci5qcz9iYTU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVudmlyb25tZW50LCBnZXQgfSBmcm9tIFwiLi9jb25maWcuanNcIiAvLyBJbXBvcnRhdGlvbiBkZSBsYSByZXF1w6p0ZSBBSkFYXHJcbmltcG9ydCBhbmltYXRpb25NZW51IGZyb20gXCIuL29uU2Nyb2xsLmpzXCJcclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4vLyBPbiBtZXQgZW4gcGxhY2UgdW5lIGZvbmN0aW9uIHF1aSBzJ2F1dG8gZXjDqWN1dGUgZXQgcXVpIHbDqXJpZmllIHNpIGxlIHNlc3Npb24gc3RvcmFnZSBjb250aWVudCB1biBvYmpldCBcIm5ld09yZGVyXCJcclxuXHJcbihmdW5jdGlvbiAoKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGEgZm9uY3Rpb24gcydleMOpY3V0ZSBkw6hzIGxlIGNoYXJnZW1lbnQgZGUgbGEgcGFnZVxyXG4gICAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJuZXdPcmRlclwiKSA9PT0gbnVsbCkgeyAgICAgICAgLy8gRWxsZSB2w6lyaWZpZSBxdSdpbCBleGlzdGUgYmllbiB1bmUgbm91dmVsbGUgY29tbWFuZGUgc3RvY2vDqSBkYW5zIGxlIHNlc3Npb25TdG9yYWdlXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJQYXMgZGUgbm91dmVsbGUgY29tbWFuZGUgw6AgYWpvdXRlclwiKSAgICAgICAgICAgICAgIC8vIFNpIGNlIG4nZXN0IHBhcyBsZSAgY2FzLCBpbCBuZSBzZSBwYXNzZSByaWVuLCBhZmZpY2hhZ2UgZCd1biBjb21tZW50YWlyZSBkYW5zIGxhIGNvbnNvbGVcclxuICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaSBlbGxlIHRyb3V2ZSB1biBvYmpldCBcIm5ld09yZGVyXCIgZGFucyBsZSBzZXNzaW9uU3RvcmFnZVxyXG4gICAgICAgIGNvbnN0IG5ld05iID0gbG9jYWxTdG9yYWdlLmxlbmd0aCAgICAgICAgICAgICAgICAgICAgIC8vIEVsbGUgY3LDqWVyIHVuZSBjbMOpIGRlIHZhbGV1ciA9IMOgIGxhIHRhaWxsZSBkdSBsb2NhbFN0b3JhZ2VcclxuICAgICAgICBjb25zdCBhZGRUb0NhcnQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwibmV3T3JkZXJcIikgIC8vIEVsbGUgY3LDqWVyIHVuZSBjb25zdGFudGUgYWRkVG9DYXJ0LCBxdWkgZXN0ID0gw6AgbGEgdmFsZXVyIGRlIFwibmV3b3JkZXJcIlxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKG5ld05iLCBhZGRUb0NhcnQpICAgICAgICAgICAgICAgIC8vIEVsbGUgYXR0cmlidWUgdW4gbm91dmVsIG9iamV0IGRhbnMgbGUgbG9jYWxTdG9yYWdlXHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcIm5ld09yZGVyXCIpICAgICAgICAgICAgICAgICAvLyBFbGxlIHN1cHByaW1lIGxlIFwibmV3T3JkZXIgZHUgc2Vzc2lvblN0b3JhZ2VcIiBhaW5zaSBpbCBuZSBwZXV0IHkgYXZvaXIgcXUndW4gc2V1bCBcIm5ld09yZGVyXCIgZGFucyBsZSBzZXNzaW9uU3RvcmFnZVxyXG4gICAgfVxyXG59KSgpXHJcblxyXG4vLy8vLy8vLyBDUkVBVElPTiBEVSBQQU5JRVIgXHJcblxyXG4vL0luaXRpYWxpc2F0aW9uIGRlcyBjbGFzc2VzIG7DqWNlc3NhaXJlcyDDoCBsYSBjcsOpYXRpb24gZHUgcGFuaWVyIDpcclxuXHJcblxyXG5jbGFzcyBDYW1lcmEgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3JyZXNwb25kIMOgIHVuIG1vZMOobGUgZGUgY2Ftw6lyYSBwcsOpc2VudCBkYW5zIGxlIGNhdGFsb2d1ZSBkdSBzaXRlXHJcbiAgICBjb25zdHJ1Y3RvcihJZCwgTmFtZSwgUHJpY2UsIExlbnNlcykge1xyXG4gICAgICAgIHRoaXMuaWQgPSBJZDtcclxuICAgICAgICB0aGlzLm5hbWUgPSBOYW1lO1xyXG4gICAgICAgIHRoaXMucHJpY2UgPSBQcmljZTtcclxuICAgICAgICB0aGlzLmxlbnNlcyA9IExlbnNlc1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDYXJ0bGluZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3JyZXNwb25kIMOgIHVuZSBsaWduZSBkdSBwYW5pZXJcclxuICAgIGNvbnN0cnVjdG9yKElkLCBOYW1lLCBMZW5zZSwgUXRlLCBQcmljZSkge1xyXG4gICAgICAgIHRoaXMuaWQgPSBJZDtcclxuICAgICAgICB0aGlzLm5hbWUgPSBOYW1lO1xyXG4gICAgICAgIHRoaXMubGVuc2UgPSBMZW5zZTtcclxuICAgICAgICB0aGlzLnF0ZSA9IFF0ZTtcclxuICAgICAgICB0aGlzLnByaWNlID0gUHJpY2U7XHJcbiAgICAgICAgdGhpcy5zdWJ0b3RhbCA9IHBhcnNlSW50KHRoaXMucXRlKSAqIHBhcnNlSW50KHRoaXMucHJpY2UpXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vLy8vLy8vLyBJbml0aWFsaXNhdGlvbiBkZXMgdmFyaWFibGVzIG7DqWNlc3NhaXJlcyAgw6AgbGEgY3LDqWF0aW9uIGR1IHBhbmllciA6XHJcblxyXG5jb25zdCBzdG9yZSA9IFtdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3JyZXNwb25kIGF1IGNhdGFsb2d1ZSBkdSBtYWdhc2luXHJcblxyXG5jb25zdCBjYXJ0ID0gW10gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3JyZXNwb25kIGF1IHBhbmllciBcclxuXHJcbi8vLy8vLy8vLyBJbml0aWFsaXNhdGlvbiBkZXMgZm9uY3Rpb25zIG7DqWNlc3NhaXJlcyDDoCBsYSAgY3LDqWF0aW9uIGR1IHBhbmllciA6IFxyXG5cclxuZnVuY3Rpb24gY2xlYW5BcnJheShhcnJheSkgeyAgICAgICAgICAgICAgICAgICAgLy8gQ2V0dGUgZm9uY3Rpb24gcHJlbmQgZW4gcGFyYW3DqHRyZSB1biB0YWJsZWF1LiBFbGxlIHBlcm1ldCBkZSBjcsOpZXIgdW4gdGFibGVhdSBxdWkgbmUgY29udGllbnQgcXVlIGxlcyB2YWxldXJzIHVuaXF1ZXMgZGUgbGEgY2zDqSBcIl9pZFwiXHJcbiAgICBsZXQgaSA9IGFycmF5Lmxlbmd0aFxyXG4gICAgbGV0IGogPSBhcnJheS5sZW5ndGhcclxuICAgIGxldCBsZW4gPSBhcnJheS5sZW5ndGhcclxuICAgIGxldCBvdXQgPSBbXVxyXG4gICAgbGV0IG9iaiA9IHt9XHJcblxyXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgb2JqW2FycmF5W2ldLl9pZCArIFwiX1wiICsgYXJyYXlbaV0ubGVuc2VdID0gMFxyXG4gICAgfVxyXG4gICAgZm9yIChqIGluIG9iaikge1xyXG4gICAgICAgIG91dC5wdXNoKGopXHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvdW50UXRlKGFyciwgbGlzdCkgeyAgICAgICAgICAgICAgLy9DZXR0ZSBmb25jdGlvbiBwcmVuZCBlbiBwYXJhbcOodHJlIHVuIHRhYmxlYXUgZXQgdW5lIGxpc3RlIHF1J29uIHZhIGNvbXBhcmVyIHBvdXIgZGV0ZXJtaW5lciBsYSBxdWFudGl0w6kgdG90YWwgZCd1biBhcnRpY2xlIHByw6ljaXMgZGFucyBsZSB0YWJsZWF1IGV0IG5vdXMgcmV0b3VybmUgY2V0dGUgcXVhbnRpdMOpXHJcbiAgICBsZXQgY291bnRlciA9IDBcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IC8vIFBvdXIgY2hhcXVlIMOpbMOpbWVudCBkdSB0YWJsZWF1XHJcbiAgICAgICAgaWYgKGFycltpXS5faWQgPT09IChsaXN0LnNwbGl0KFwiX1wiKVswXSkgJiYgYXJyW2ldLmxlbnNlID09PSAobGlzdC5zcGxpdChcIl9cIilbMV0pKSB7IC8vIE9uIGNoZXJjaGUgdW5lIGNvcnJlc3BvbmRhbmNlIGRlIGwnaWQgZXQgZGUgbGEgbGVudGlsbGUgYXZlYyBsYSBsaXN0ZSBcclxuICAgICAgICAgICAgY291bnRlciA9IGNvdW50ZXIgKyBwYXJzZUludChhcnJbaV0ucXRlKSAvLyBBIGNoYXF1ZSBjb3JyZXNwb25kYW5jZSB0cm91dsOpZSwgb24gYWpvdXQgYXUgY29tcHRldXIgbGEgcXVhbnRpdMOpZSB0cm91dsOpZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjb3VudGVyIC8vIENlbGEgbm91cyByZXRvdXJuZSBsYSBxdWFudGl0w6kgdG90YWwgZCd1biBhcnRpY2xlIGRhbnMgbGUgdGFibGVhdVxyXG59XHJcblxyXG5mdW5jdGlvbiBwb3N0KHRvU2VuZCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBjb25zdCBodHRwUmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXHJcbiAgICAgICAgaHR0cFJlcXVlc3Qub3BlbihcIlBPU1RcIiwgZW52aXJvbm1lbnQgKyBcIi9hcGkvY2FtZXJhcy9vcmRlclwiKVxyXG4gICAgICAgIGh0dHBSZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpXHJcbiAgICAgICAgaHR0cFJlcXVlc3Quc2VuZChKU09OLnN0cmluZ2lmeSh0b1NlbmQpKVxyXG4gICAgICAgIGh0dHBSZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGh0dHBSZXF1ZXN0LnJlYWR5U3RhdGUgPT09IDQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChodHRwUmVxdWVzdC5zdGF0dXMgPT09IDIwMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXNwb25zZSA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGh0dHBSZXF1ZXN0KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuLy8vLy8gQ1JFQVRJT04gRFUgUEFOSUVSXHJcblxyXG5nZXQoXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2NhbWVyYXMvXCIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7IC8vIEF2ZWMgbGEgcmVxdcOqdGUgQUpBWCBvbiByw6ljdXDDqHJlIGxhIGxpc3RlIGRlcyBhcnRpY2xlcyBzdXIgbGUgc2VydmV1ciAocmVzcG9uc2UpLlxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgICAgICAgICAgICAgICAgICAvLyBTaSBsYSByZXF1w6p0ZSBhYm91dGllIDogT24gY3LDqcOpIHVuZSBmb25jdGlvbiBxdWkgcHJlbmQgZW4gcGFyYW3DqHRyZSBsYSBsaXN0ZSBkZXMgY2Ftw6lyYXMgcXVlIGxlIHNlcnZldXIgbm91cyByZXRvdXJuZS4gQ2V0dGUgZm9uY3Rpb24gY29udGllbnQgw6lnYWxlbWVudCB1bmUgcHJvbWVzc2UuXHJcblxyXG4gICAgICAgIC8vIDHDqHJlIMOpdGFwZSA6IENyw6lhdGlvbiBkdSBtYWdhc2luIChzdG9yZSkgdW4gdGFibGVhdSBxdWkgY29udGllbnQgbGEgbGlzdGUgZGVzIGNhbcOpcmFzIGVuIHN0b2NrXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UubGVuZ3RoOyBpKyspIHsgICAgICAgICAgICAgICAgIC8vIFBvdXIgY2hhcXVlIGNhbcOpcmFzIHByw6lzZW50ZXMgZGFucyBsYSByw6lwb25zZSBkdSBzZXJ2ZXVyICg1IGNhbcOpcmFzKVxyXG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHJlc3BvbnNlW2ldLmxlbnNlcy5sZW5ndGg7IHkrKykgeyAgIC8vIEVUIHBvdXIgY2hhcXVlcyBsZW50aWxsZXMgcG9zc2libGVzIMOgIGNoYXF1ZSBjYW3DqXJhXHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3Q2FtZXJhID0gbmV3IENhbWVyYSggICAgICAgICAgICAgICAgICAgICAgICAgLy8gT24gY3LDqcOpIHVuZSBpbnN0YW5jZSBkZSBsYSBjbGFzc2UgQ2FtZXJhIHF1aSBhdXJhIGxlcyBjYXJhY3TDqXJpc3RpcXVlcyBzdWl2YW50ZXMgOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlW2ldLl9pZCArIFwiX1wiICsgcmVzcG9uc2VbaV0ubGVuc2VzW3ldLCAgLy8gVW4gSWQgcXVpIGVzdCA9IMOgIGwnaWQgZHUgbW9kw6hsZSBjb25jYXTDqW7DqSBhdmVjIGxlIG5vbSBkZSBjaGFxdWUgbGVudGlsbGUgXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbaV0ubmFtZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVW4gbm9tIGluY2hhbmfDqSBwYXIgcmFwcG9ydCDDoCBsYSByw6lwb25zZSBkdSBzZXJ2ZXVyXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbaV0ucHJpY2UsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVW4gcHJpeCBpbmNoYW5nw6kgcGFyIHJhcHBvcnQgw6AgbGEgcsOpcG9uc2UgZHUgc2VydmV1clxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlW2ldLmxlbnNlcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExhIGxlbnRpbGxlIGRlIGNlIG1vZMOobGVcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIHN0b3JlLnB1c2gobmV3Q2FtZXJhKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMJ2luc3RhbmNlIGFpbnNpIGNyw6nDqWUgZXN0IG1pcyBkYW5zIGxlIHRhYmxlYXUgXCJzdG9yZVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzb2x2ZShzdG9yZSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9TaSBsYSBmb25jdGlvbiBzZSBkw6lyb3VsZSBzYW5zIHByb2Jsw6htZSwgbGEgcHJvbWVzc2Ugbm91cyByZW52b2kgbGUgdGFibGVhdSBcInN0b3JlXCIgcXVpIGNvbnRpZW50IGFpbnNpIDExIHByb2R1aXRzIGRpZmbDqXJlbnRzICg1IGNhbcOpcmFzIGF2ZWMgY2hhcXVlIG9wdGlvbiBkZSBsZW50aWxsZSBwb3NzaWJsZSlcclxuXHJcbiAgICAgICAgLy8gMsOobWUgw6l0YXBlIDogQWpvdXQgZCd1bmUgbGlnbmUgZGUgcGFuaWVyIHBvdXIgY2hhcXVlIG9iamV0IHByw6lzZW50IGRhbnMgbGUgbG9jYWxTdG9yYWdlIFxyXG5cclxuICAgIH0pLnRoZW4oZnVuY3Rpb24gYWRkQ2FydExpbmUoKSB7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VpdGUgw6AgbGEgcsOpc29sdXRpb24gZGUgbGEgcHJvbWVzc2UgY29uc2lzdGFudCDDoCBjcsOpZXIgdW4gbWFnYXNpblxyXG5cclxuICAgICAgICBjb25zdCByYXdPcmRlciA9IFtdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbiBjcsOpw6kgdW5lIHZhcmlhYmxlIHJhd09yZGVyLCBxdWkgY29udGllbnQgdG91cyBsZXMgb2JqZXQgZHUgbG9jYWwgc3RvcmFnZVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxTdG9yYWdlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VJdGVtID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpKSlcclxuICAgICAgICAgICAgcmF3T3JkZXIucHVzaChzdG9yYWdlSXRlbSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZSByYXdPcmRlciBwb3V2YW50IGNvbnRlbmlyIGRlcyBsaWduZXMgZGUgY29tbWFuZGUgY29udGVuYW50IGxlIG3Dqm1lIGFydGljbGUgKG3Dqm1lIGNhbcOpcmEgKyBtw6ptZSBsZW50aWxsZSkgaWwgdmEgZmFsbG9pciBsZSBuZXR0b3llciBwb3VyIGFkZGl0aW9ubmVyIGxlcyBsaWduZXMgc2ltaWxhaXJlcy5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNsZWFuT3JkZXIgPSBjbGVhbkFycmF5KHJhd09yZGVyKSAgICAgICAgICAgICAgICAgICAgIC8vIE9uIGZhaXQgYXBwZWwgw6AgbGEgZm9uY3Rpb24gXCJDbGVhbkFycmF5XCIgcXVpIHZhIGNyw6llciB1bmUgbGlzdGUgZGVzIGlkZW50aWZpYW50cyB1bmlxdWVzIGRlIHJhd09yZGVyXHJcbiAgICAgICAgY2xlYW5PcmRlci5mb3JFYWNoKGZ1bmN0aW9uIChsaW5lKSB7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gUG91ciBjaGFjdW4gZGUgY2VzIGlkZW50aWZpYW50cyB1bmlxdWVzIDogb24gdmEgbGUgY29tcGFyZXIgYXZlYyBub3RyZSBtYWdhc2luXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RvcmUubGVuZ3RoOyBpKyspIHsgICAgICAgICAgICAgICAgLy8gT24gZGVtYW5kZSBwb3VyIGNoYXF1ZSBhcnRpY2xlIHByw6lzZW50IGRhbnMgbGEgbWFnYXNpblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0b3JlW2ldLmlkID09PSBsaW5lKSB7ICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpIG9uIHRyb3V2ZSB1bmUgY29ycmVzcG9uZGFuY2UgZW50cmUgbCdpZCBkJ3VuIGFydGljbGUgZHUgbWFnYXNpbiBldCBsJ2lkIGRlIG5vdHJlIGxpc3RlIGRlIGNvbW1hbmRlXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0NhcnRsaW5lID0gbmV3IENhcnRsaW5lKCAgICAgICAgICAgICAgICAgLy8gQWxvcnMgb24gY3LDqWVyIHVuZSBsaWduZSBkZSBwYW5pZXIgKGluc3RhbmNlIGRlIGxhIGNsYXNzZSBDYXJ0TGluZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHN0b3JlW2ldLmlkLnNwbGl0KFwiX1wiKSlbMF0sICAgICAgICAgICAgICAgIC8vIEF2ZWMgdW4gbCdpZCBjb3JyZXNwb25kYW50ID0gT24gZGl2aXNlIGwnSWQgZXQgb24gbmUgZ2FyZGUgcXVlIGxhIDHDqHJlIHBhcnRpZSBhdmFudCBsZSBcIl9cIiBvbiBhIGRvbmMgcmV0cm91dsOpIGwnaWQgb3JpZ2luYWwsIGxpc2libGUgcGFyIGxlIHNlcnZldXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVbaV0ubmFtZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZSBub20gZHUgcHJvZHVpdCBlbiBxdWVzdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoc3RvcmVbaV0uaWQuc3BsaXQoXCJfXCIpKVsxXSwgICAgICAgICAgICAgICAgLy8gTGUgY2hvaXggZGUgbGEgbGVudGlsbGUgPSBPbiBkaXZpc2UgbCdJZCBldCBvbiBuZSBnYXJkZSBxdWUgbGEgMm5kIHBhcnRpZSBhcHLDqHMgbGUgXCJfXCIgb24gYSBkb25jIGxlIG5vbSBkZSBsYSBsZW50aWxsZSBjaG9pc2llIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudFF0ZShyYXdPcmRlciwgbGluZSksICAgICAgICAgICAgICAgICAgIC8vIFBvdXIgbGEgcXVhbnRpdMOpIG9uIGZhaXQgYXBwZWwgw6AgbGEgZm9uY3Rpb24gY291bnRRdGUgcXVpIHByZW5kIGVuIHBhcmFtw6h0cmUgbGEgbGlzdGUgZGUgY29tbWFuZGUgYnJ1dCAoPSBsb2NhbFN0b3JhZ2UpIGV0IGxhIGxpc3RlIGRlcyBcImlkc1wiIGNvbW1hbmTDqWVzIGVsbGUgdmEgYWRkaXRpb25uZXIgdG91dGVzIGxlcyBxdWFudGl0w6lzIGNvcnJlc3BvbmRhbnRlcyDDoCBsJ2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlW2ldLnByaWNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9MZSBwcml4IGR1IHByb2R1aXQgZW4gcXVlc3Rpb25cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgY2FydC5wdXNoKG5ld0NhcnRsaW5lKSAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT24gcGV1dCBhbG9ycyBtZXR0cmUgY2V0dGUgbGlnbmUgZGUgcGFuaWVyIGRhbnMgbGUgcGFuaWVyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyAyw6htZSDDqXRhcGUgOiBBam91dCBkJ3VuZSBsaWduZSBkZSBwYW5pZXIgcG91ciBjaGFxdWUgb2JqZXQgcHLDqXNlbnQgZGFucyBsZSBsb2NhbFN0b3JhZ2VcclxuXHJcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT24gcGV1dCBtYWludGVuYW50IGxhbmNlciBsYSBtaXNlIGVuIGZvcm1lIGR1IHBhbmllclxyXG4gICAgICAgIGxldCBzdWJDb3VudGVyID0gMFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FydC5sZW5ndGg7IGkrKykgeyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQb3VyIGNoYXF1ZSDDqWzDqW1lbnQgZHUgcGFuaWVyIHVuZSBsaWduZSBodG1sIGRvaXQgw6p0cmUgbWlzZSBlbiBmb3JtZVxyXG5cclxuICAgICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhcnQtdGFibGVib2R5XCIpXHJcbiAgICAgICAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpXHJcbiAgICAgICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKVxyXG4gICAgICAgICAgICBjb25zdCB0ZDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIilcclxuICAgICAgICAgICAgY29uc3QgdGQyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpXHJcbiAgICAgICAgICAgIGNvbnN0IHRkMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKVxyXG4gICAgICAgICAgICBjb25zdCB0ZDQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIilcclxuICAgICAgICAgICAgY29uc3QgdGQ1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpXHJcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkMSlcclxuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQyKVxyXG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZDMpXHJcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkNClcclxuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQ1KVxyXG5cclxuICAgICAgICAgICAgY29uc3QgY2FydExpbmUgPSBjYXJ0W2ldXHJcbiAgICAgICAgICAgIHRkMS5pbm5lclRleHQgPSBjYXJ0TGluZS5uYW1lXHJcbiAgICAgICAgICAgIHRkMi5pbm5lclRleHQgPSBjYXJ0TGluZS5sZW5zZVxyXG4gICAgICAgICAgICB0ZDMuaW5uZXJUZXh0ID0gKChjYXJ0TGluZS5wcmljZSkgLyAxMDApICsgXCIg4oKsXCJcclxuICAgICAgICAgICAgdGQ0LmlubmVyVGV4dCA9IGNhcnRMaW5lLnF0ZVxyXG4gICAgICAgICAgICB0ZDUuaW5uZXJUZXh0ID0gKChjYXJ0TGluZS5zdWJ0b3RhbCkgLyAxMDApICsgXCIg4oKsXCJcclxuXHJcbiAgICAgICAgICAgIC8vLy8gRm9uY3Rpb24gZGUgY2FsY3VsIGR1IHRvdGFsIGR1IHBhbmllclxyXG4gICAgICAgICAgICBzdWJDb3VudGVyID0gc3ViQ291bnRlciArIChwYXJzZUludChjYXJ0TGluZS5zdWJ0b3RhbCAvIDEwMCkpXHJcbiAgICAgICAgICAgIGNvbnN0IHN1YnR0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWJ0dFwiKVxyXG4gICAgICAgICAgICBzdWJ0dC5pbm5lclRleHQgPSBzdWJDb3VudGVyICsgXCIg4oKsXCJcclxuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcInRvdGFsXCIsIHN1YkNvdW50ZXIpXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiZXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudCBkdSBwYW5pZXIuXCIsIGVycm9yKVxyXG59KVxyXG5cclxuLy8vLy8vIEZvbmN0aW9uIGRlIFJBWiBkdSBwYW5pZXJcclxuXHJcbmNvbnN0IGVtcHR5Q2FydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGVtcHR5QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbXB0eVwiKVxyXG4gICAgZW1wdHlCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHsgICAgLy8gUXVhbmQgb24gY2xpcXVlIHN1ciBsZSBib3V0b24gXCJ2aWRlciBsZSBwYW5pZXJcIlxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVmZmFjZSBsZSBsb2NhbGUgc3RvcmFnZVxyXG4gICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlY2hhcmdlIGxhIHBhZ2VcclxuICAgIH0pXHJcbn1cclxuXHJcbmVtcHR5Q2FydCgpXHJcblxyXG4vLy8vLy8vLy9cclxuXHJcbi8vIFLDqWN1cMOpcmF0aW9uIGRlcyBpbmZvcm1hdGlvbnMgZHUgZm9ybXVsYWlyZSBwb3VyIHJlcXXDqnRlIFBPU1QgYXUgc2VydmV1clxyXG5cclxuY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpblwiKVxyXG5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtXCIpXHJcbmNvbnN0IGZpcnN0TmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlyc3RuYW1lXCIpXHJcbmNvbnN0IGxhc3ROYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsYXN0bmFtZVwiKVxyXG5jb25zdCBhZGRyZXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRyZXNzXCIpXHJcbmNvbnN0IGNpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNpdHlcIilcclxuY29uc3QgZW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVtYWlsXCIpXHJcbmNvbnN0IHN1Ym1pdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0XCIpXHJcblxyXG5zdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkgeyAvLyBBdSBtb21lbnQgZHUgbGEgc291bWlzc2lvbiBkdSBmb3JtdWxhaXJlIDpcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgIGNvbnNvbGUubG9nKGZvcm0uY2hlY2tWYWxpZGl0eSgpKVxyXG4gICAgaWYgKGNhcnQubGVuZ3RoIDwgMSkgeyAvL0FwcGFyaXRpb24gZCd1biBtZXNzYWdlIGQnaW5mb3JtYXRpb24gaW5kaXF1YW50IHF1ZSBsZSBwYW5pZXIgZXN0IHZpZGVcclxuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImFzaWRlXCIpID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFzaWRlID0gbWFpbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXNpZGVcIikpXHJcbiAgICAgICAgICAgIGFzaWRlLmNsYXNzTGlzdC5hZGQoXCJlcnJvclwiLCBcImVycm9yX19wYW5pZXJcIiwgXCJlcnJvcl9fcGFuaWVyLS1hbmltXCIpIC8vIE9uIGFqb3V0ZSBsYSBjbGFzc2UgXCJlcnJvclwiIMOgIGxhIGRpdiBwb3VyIHRyYWl0ZW1lbnQgQ1NTXHJcbiAgICAgICAgICAgIGFzaWRlLmlubmVyVGV4dCA9IFwiVm90cmUgcGFuaWVyIGVzdCB2aWRlXCIgLy8gT24geSBhZmZpY2hlIGxlIG1lc3NhZ2UgZCdlcnJldXJcclxuICAgICAgICB9IGVsc2UgeyAvLyBQb3VyIHJlam91ZXIgbCdhbmltYXRpb24gZW4gY2FzIGRlIG11bHRpLWNsaXF1ZSBzdXIgbGUgYm91dG9uIFwiZW52b3llclwiXHJcbiAgICAgICAgICAgIGNvbnN0IGFzaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImFzaWRlXCIpXHJcbiAgICAgICAgICAgIG1haW4ucmVtb3ZlQ2hpbGQoYXNpZGUpXHJcbiAgICAgICAgICAgIG1haW4uYXBwZW5kQ2hpbGQoYXNpZGUpXHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChmb3JtLmNoZWNrVmFsaWRpdHkoKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIC8vL0NyZWF0aW9uIGQndW5lIHZhcmlhYmxlIGNvbnRhY3QgY29udGVuYW50IGxlcyBpbmZvcm1hdGlvbnMgZGUgY29udGFjdCBzYWlzaWUgcGFyIGwndXRpbGlzYXRldXJcclxuICAgICAgICBjb25zdCBjb250YWN0ID0ge1xyXG4gICAgICAgICAgICBmaXJzdE5hbWU6IGZpcnN0TmFtZS52YWx1ZSxcclxuICAgICAgICAgICAgbGFzdE5hbWU6IGxhc3ROYW1lLnZhbHVlLFxyXG4gICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzLnZhbHVlLFxyXG4gICAgICAgICAgICBjaXR5OiBjaXR5LnZhbHVlLFxyXG4gICAgICAgICAgICBlbWFpbDogZW1haWwudmFsdWVcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcHJvZHVjdHMgPSBbXSAvLyBDcsOpYXRpb24gZCd1bmUgdmFyaWFibGVzIFwicHJvZHVjdHNcIiBxdWkgY29udGllbnQgbGVzIGluZm9ybWF0aW9ucyBkdSBwYW5pZXJcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcHJvZHVjdHMucHVzaChjYXJ0W2ldLmlkKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHsgY29udGFjdCwgcHJvZHVjdHMgfSAvLyBDcsOpYXRpb24gZCd1bmUgdmFyaWFibGUgXCJkYXRhXCIgcXVpIGNvbnRpZW50IGxlcyAyIMOpbMOpbWVudHMgw6AgdHJhbnNtZXR0cmUgYXUgc2VydmV1clxyXG5cclxuICAgICAgICAvLy8gRW52b2llIGRlIGxhIHJlcXXDqnRlXHJcblxyXG4gICAgICAgIHBvc3QoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcImNvbmZpcm0uaHRtbFwiXHJcbiAgICAgICAgICAgIGNvbnN0IG15T3JkZXIgPSBKU09OLnN0cmluZ2lmeShyZXNwb25zZSkgICAgICAvLyBPbiB0cmFuc2Zvcm1lIGNldCBvYmpldCBlbiBjaGFpbmUgZGUgY2FyYWN0w6hyZVxyXG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwibXlPcmRlclwiLCBteU9yZGVyKVxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKVxyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyZXVyIGxvcnMgZGUgbCdlbnZvaSBkZXMgZG9ubsOpZXM6IFwiICsgZXJyb3IpXHJcbiAgICAgICAgfSlcclxuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImFzaWRlXCIpID09PSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgYXNpZGUgPSBtYWluLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhc2lkZVwiKSlcclxuICAgICAgICBhc2lkZS5jbGFzc0xpc3QuYWRkKFwiZXJyb3JcIiwgXCJlcnJvcl9fcGFuaWVyXCIsIFwiZXJyb3JfX3Bhbmllci0tYW5pbVwiKSAvLyBPbiBham91dGUgbGEgY2xhc3NlIFwiZXJyb3JcIiDDoCBsYSBkaXYgcG91ciB0cmFpdGVtZW50IENTU1xyXG4gICAgICAgIGFzaWRlLmlubmVyVGV4dCA9IFwiVmV1aWxsZXogdsOpcmlmaWVyIHZvdHJlIHNhaXNpZVwiXHJcbiAgICB9IGVsc2UgeyAvLyBQb3VyIHJlam91ZXIgbCdhbmltYXRpb24gZW4gY2FzIGRlIG11bHRpLWNsaXF1ZSBzdXIgbGUgYm91dG9uIFwiZW52b3llclwiXHJcbiAgICAgICAgY29uc3QgYXNpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYXNpZGVcIilcclxuICAgICAgICBtYWluLnJlbW92ZUNoaWxkKGFzaWRlKVxyXG4gICAgICAgIG1haW4uYXBwZW5kQ2hpbGQoYXNpZGUpXHJcbiAgICB9XHJcbn0pXHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panier.js\n");

/***/ })

/******/ });